FROM python:3.11-slim

WORKDIR /app

# Install dependencies
RUN pip install --no-cache-dir fastapi uvicorn psycopg2-binary requests pandas

# Copy source code
COPY G04_digital_twin_api.py .
COPY G04_digital_twin_engine.py .
COPY pantry_sync.py .

# Expose port
EXPOSE 5677

# Run the API
CMD ["python", "G04_digital_twin_api.py"]
